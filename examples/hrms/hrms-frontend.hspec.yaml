name: hrms-frontend
image: 
     registry: k8sdockerregistry.wavemakeronline.com
     name: hyscalectl/hrms-frontend
     tag: 4.0.1
     buildSpec:
       stackImage: tomcat:8.5.0-jre8
       artifacts: 
           - name: HRScaffold
             source: frontend/artifacts/hrms.war
             destination: /usr/local/tomcat/webapps/

memory: 2048Mi
 
volumes:
  - name: tomcat-logs
    path: /usr/local/content/tomcat/current/logs
    size: 1Gi
    storageClass: standard

props:
    MAX_NO_OF_CONNECTIONS: 20
    COUNTRY: india
    REGION: hyderabad
    MYSQL_HOST: endpoint(hrdatabase)
    MAX_NO_OF_THREADS: 10
    TOMCAT_HOME: /usr/local/content/tomcat
    CONFIGURE_SCRIPT: file(frontend/tomcat-configure.sh)

external: true

ports:
  - port: 8080/tcp
    healthCheck:
      httpPath: /hrms
 
